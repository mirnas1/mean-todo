<div class="logout-container">
    <a href="" ng-click="logout()">Logout</a>
</div>

<div class="todo-app">
    <h1>Your To-Do List</h1>
    <div class="input-container">
        <input type="text" id="task-input" ng-model="todoText" ng-keydown="$event.keyCode === 13 && addTodo()" placeholder="Add a new task..." id="task-input" autocomplete="off">
    </div>
    <ul id="todo-list" dnd-list="todos">
        <li ng-repeat="todo in todos" class="todo-item" ng-class="{ 'completed': todo.is_completed }"
            dnd-draggable="todo" dnd-moved="todos.splice($index, 1)" dnd-effect-allowed="move" dnd-selected="models.selected = todo">
            
            <span class="move-icon">&#9776;</span>
            <span class="todo-text" ng-click="toggleComplete(todo)">{{ todo.todo }}</span>
            <span class="priority-indicator" ng-style="{ 'background-color': todo.priority }"></span>
            <button class="options-button" ng-click="toggleOptions(todo)" ng-mousedown="$event.stopPropagation()">&#x22EE;</button>
            
            <div class="options-menu" ng-show="todo.showOptions">
                <button ng-click="editTodo(todo); $event.stopPropagation()">Edit</button>
                <button class="priority-btn white" ng-click="setPriority(todo, 'white')">Set White</button>
                    <button class="priority-btn orange" ng-click="setPriority(todo, 'orange')">Set Orange</button>
                    <button class="priority-btn red" ng-click="setPriority(todo, 'red')">Set Red</button>
                <button ng-click="deleteTodo(todo); $event.stopPropagation()">Delete</button>

            </div>
        </li>
    </ul>
    <div class="completed-section">
        <span id="completed-count">Completed: {{ completedCount }}</span>
        <button id="clear-completed" ng-click="clearCompleted()">Clear Completed Tasks</button>
    </div>
</div>
